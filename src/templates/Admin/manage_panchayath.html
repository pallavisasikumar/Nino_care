{% extends "Admin/admin_index.html" %}
{% block body %}
<body class="bg-light">
  <div class="container mt-4">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Manage Panchayaths</h4>
      </div>
      <div class="card-body">
        <form id="form1" name="form1" method="get" action="/manage_panchayath#about">
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="district" class="form-label">Filter by District</label>
              <select name="district" id="district" class="form-select" onchange="this.form.submit()">
                <option value="">-- Select District --</option>
                <option value="Thiruvananthapuram" {% if selected_district == 'Thiruvananthapuram' %} selected {% endif %}>Thiruvananthapuram</option>
                <option value="Kollam" {% if selected_district == 'Kollam' %} selected {% endif %}>Kollam</option>
                <option value="Pathanamthitta" {% if selected_district == 'Pathanamthitta' %} selected {% endif %}>Pathanamthitta</option>
                <option value="Alappuzha" {% if selected_district == 'Alappuzha' %} selected {% endif %}>Alappuzha</option>
                <option value="Kottayam" {% if selected_district == 'Kottayam' %} selected {% endif %}>Kottayam</option>
                <option value="Idukki" {% if selected_district == 'Idukki' %} selected {% endif %}>Idukki</option>
                <option value="Ernakulam" {% if selected_district == 'Ernakulam' %} selected {% endif %}>Ernakulam</option>
                <option value="Thrissur" {% if selected_district == 'Thrissur' %} selected {% endif %}>Thrissur</option>
                <option value="Palakkad" {% if selected_district == 'Palakkad' %} selected {% endif %}>Palakkad</option>
                <option value="Malappuram" {% if selected_district == 'Malappuram' %} selected {% endif %}>Malappuram</option>
                <option value="Kozhikode" {% if selected_district == 'Kozhikode' %} selected {% endif %}>Kozhikode</option>
                <option value="Wayanad" {% if selected_district == 'Wayanad' %} selected {% endif %}>Wayanad</option>
                <option value="Kannur" {% if selected_district == 'Kannur' %} selected {% endif %}>Kannur</option>
                <option value="Kasaragod" {% if selected_district == 'Kasaragod' %} selected {% endif %}>Kasaragod</option>
              </select>
            </div>
          </div>

          <table class="table table-bordered table-hover table-striped">
            <thead class="table-dark">
              <tr>
                <th>Name</th>
                <th>Taluk Name</th>
                <th>District</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for i in val %}
              <tr class="table-row">
                <td>{{ i['name'] }}</td>
                <td>{{ i['taluk_name'] }}</td>
                <td>{{ i['district'] }}</td>
                <td>{{ i['ph_no'] }}</td>
                <td>{{ i['email'] }}</td>
                <td>
                  <div class="btn-group">
                    <a href="edit_panchayath?id={{ i['l_id'] }}#about" class="btn btn-sm btn-warning">Edit</a>
                    <a href="delete_panchayath?id={{ i['l_id'] }}#about" class="btn btn-sm btn-danger">Delete</a>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>

          <div class="text-center mt-3">
            <a href="add_panchayath" class="btn btn-primary">Add Panchayath</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <style>
    /* Add animations */
    body {
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .table-row {
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .table-row:hover {
      background-color: #f1f1f1;
      transform: translateY(-2px);
    }

    .btn-primary {
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .btn-primary:hover {
      background-color: #0056b3;
      transform: scale(1.05);
    }

    .btn-warning {
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .btn-warning:hover {
      background-color: #856404;
      transform: scale(1.05);
    }

    .btn-danger {
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .btn-danger:hover {
      background-color: #c82333;
      transform: scale(1.05);
    }
  </style>
</body>
{% endblock %}
